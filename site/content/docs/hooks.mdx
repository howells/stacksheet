---
title: Hooks
description: useSheet() and useStacksheetState() API reference.
---

import { NavigateDemo } from "@/components/demos/navigate-demo";

## useSheet()

Returns the full set of sheet actions. Must be used within `<StacksheetProvider>`.

```tsx
const { open, push, replace, swap, navigate, setData, remove, pop, close } =
  useSheet();
```

### open(Component, data)

Replace the stack with a single sheet. Any existing sheets are removed.

```tsx
open(UserProfile, { userId: "u_abc" });

// With explicit id (for later setData/remove)
open(UserProfile, "user-1", { userId: "u_abc" });
```

### push(Component, data)

Push a new sheet onto the stack. The current top sheet scales down with a depth effect. At `maxDepth`, replaces the top instead.

```tsx
push(SettingsSheet, { tab: "billing" });
```

### replace(Component, data)

Swap the top sheet without changing stack depth. If the stack is empty, opens a new sheet.

```tsx
replace(UserProfile, { userId: "u_xyz" });
```

### swap(Component, data)

Swap the top panel's content in place — no animation. The panel frame stays put, only the inner component and props change.

```tsx
swap(SettingsSheet, { tab: "general" });
```

If the stack is empty, `swap` is a no-op.

### navigate(Component, data)

Smart routing that decides based on current stack state:

| Stack state | Same component on top? | Result |
|---|---|---|
| Empty | — | `open()` |
| Non-empty | Yes | `replace()` |
| Non-empty | No | `push()` |

<NavigateDemo />

```tsx
navigate(SettingsSheet, { tab: "general" });
```

### setData(Component, id, data)

Update data on an already-open sheet by id. No animation — only the content re-renders.

```tsx
setData(UserProfile, "user-1", { userId: "u_new" });
```

### remove(id)

Remove a specific sheet from anywhere in the stack by id. Closes the stack if it was the last one.

```tsx
remove("notification-1");
```

### pop()

Remove the top sheet. The sheet below expands back with a spring animation.

```tsx
pop();
```

### close()

Clear the entire stack and close.

```tsx
close();
```

---

## useStacksheetState()

Returns reactive sheet state. Re-renders when the stack or open state changes. Must be used within `<StacksheetProvider>`.

```tsx
const { stack, isOpen } = useStacksheetState();
```

| Property | Type | Description |
|---|---|---|
| `stack` | `SheetItem[]` | Current sheet stack, ordered bottom to top |
| `isOpen` | `boolean` | Whether any sheets are currently visible |

Each item in `stack` is a `SheetItem`:

| Property | Type | Description |
|---|---|---|
| `id` | `string` | Unique identifier for this sheet instance |
| `type` | `string` | Internal type key (component name or registry key) |
| `data` | `Record<string, unknown>` | Data payload |

```tsx
function SheetIndicator() {
  const { stack, isOpen } = useStacksheetState();
  return (
    <span>
      {isOpen ? `${stack.length} sheets open` : "closed"}
    </span>
  );
}
```
